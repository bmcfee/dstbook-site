

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properties of convolution &#8212; Digital Signals Theory</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/mystnb.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Linearity and Shift-invariance" href="LSI.html" />
    <link rel="prev" title="Convolution modes" href="Modes.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/dstlogo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Digital Signals Theory</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Part 1, Signals and systems
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch01-signals/Intro.html">
   Signals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch02-sampling/intro.html">
   Digital sampling
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="intro.html">
   Convolution
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="Building.html">
     Delay, gain, and mix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Convolution.html">
     Defining convolution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="IR.html">
     Impulse Response
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Modes.html">
     Convolution modes
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Properties of convolution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="#proving-these-properties">
     Proving these properties
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LSI.html">
     Linearity and Shift-invariance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Exercises.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Part 2, The frequency domain
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch04-fourier/intro.html">
   The Discrete Fourier Transform
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch05-dft-properties/intro.html">
   Properties of the DFT
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../appendix/Fundamentals.html">
   Mathematical fundamentals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../appendix/Algebra.html">
   Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../appendix/Trigonometry.html">
   Trigonometry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../appendix/Complex.html">
   Complex numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../appendix/Python.html">
   Programming in Python
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/ch03-convolution/Properties.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#commutative-property">
   Commutative property
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#associative-property">
   Associative property
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distributive-over-addition">
   Distributive over addition
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="properties-of-convolution">
<h1>Properties of convolution<a class="headerlink" href="#properties-of-convolution" title="Permalink to this headline">¶</a></h1>
<div class="cell tag_remove_input tag_remove_output docutils container">
</div>
<p>As stated earlier in this chapter, convolution acts like a kind of abstract <em>multiplication</em> between signals.
Making this statement more precise will have to wait until we’ve developed the Fourier transform, but for now we can end this chapter by showing some of the properties that convolution shares with multiplication.</p>
<p>Note: we’ll assume for now that all convolutions are <strong>full mode</strong>.  With appropriate trimming, you can extend these properties to the other modes, but the notation will get a bit more complicated.</p>
<div class="section" id="commutative-property">
<h2>Commutative property<a class="headerlink" href="#commutative-property" title="Permalink to this headline">¶</a></h2>
<p>Convolution is <strong>commutative</strong>, which is a fancy word for saying that order doesn’t matter.
Precisely, commutativity is the property that for any <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(h\)</span>, the following holds:</p>
<div class="math notranslate nohighlight" id="equation-conv-commute">
<span class="eqno">(14)<a class="headerlink" href="#equation-conv-commute" title="Permalink to this equation">¶</a></span>\[{\color{#DC2830}h}*{\color{#0271AE}x} = {\color{#DC2830}x}*{\color{#0271AE}h}.\]</div>
<p>What this says in words is that there is no difference between <em>signals</em> and <em>filters</em>: any sequence of numbers can be interpreted as either (or both)!</p>
</div>
<div class="section" id="associative-property">
<h2>Associative property<a class="headerlink" href="#associative-property" title="Permalink to this headline">¶</a></h2>
<p>Convolution is also <strong>associative</strong>, which means that if we’re chaining a series of convolutions together, it doesn’t matter which one you do first.
Imagine that we convolve <span class="math notranslate nohighlight">\(x *h\)</span> and then convolve the result by some other filter <span class="math notranslate nohighlight">\(g\)</span>.
Associativity says that we could equivalently convolve <span class="math notranslate nohighlight">\(h\)</span> with <span class="math notranslate nohighlight">\(g\)</span> first, and then convolve the result with <span class="math notranslate nohighlight">\(x\)</span>.
Formally, we have</p>
<div class="math notranslate nohighlight" id="equation-conv-associative">
<span class="eqno">(15)<a class="headerlink" href="#equation-conv-associative" title="Permalink to this equation">¶</a></span>\[{\color{#DC2830}g}*({\color{#6E3B87}{h*x}}) = {\color{#DC2830}{(g*h)}}*{\color{#0271AE}x}\]</div>
<p>Why does this matter?  Imagine that <span class="math notranslate nohighlight">\(h\)</span> and <span class="math notranslate nohighlight">\(g\)</span> are both short (maybe a dozen samples) and <span class="math notranslate nohighlight">\(x\)</span> is very long (millions of samples).
Computing <span class="math notranslate nohighlight">\(h*x\)</span> would take work proportional to the length of <span class="math notranslate nohighlight">\(x\)</span>, as would convolving the output with <span class="math notranslate nohighlight">\(g\)</span>: you’d have to step through large arrays twice.
However, if you convolve <span class="math notranslate nohighlight">\(g*h\)</span> first, that only takes work proportional to the length of the filters (which are small), and then you’d only have to step through the large array once.
Reasoning about filters in this way can help you develop more efficient processing chains without changing the calculations.</p>
<p>By combining associativity with commutativity, it turns out that a sequence of convolutions <span class="math notranslate nohighlight">\(x * h * g * \dots\)</span> can be equivalently computed <strong>in any order</strong>!
This fact can be exploited to find the most efficient possible order (e.g. by ordering the inputs from short to long).</p>
</div>
<div class="section" id="distributive-over-addition">
<span id="convolution-distributive"></span><h2>Distributive over addition<a class="headerlink" href="#distributive-over-addition" title="Permalink to this headline">¶</a></h2>
<p>Imagine we have two signals <span class="math notranslate nohighlight">\(x_1\)</span> and <span class="math notranslate nohighlight">\(x_2\)</span> that we’d like to filter by <span class="math notranslate nohighlight">\(h\)</span> and then mix together.
The <strong>distributive</strong> property says that we can equivalently mix the signals first, and then convolve by <span class="math notranslate nohighlight">\(h\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-conv-distribute">
<span class="eqno">(16)<a class="headerlink" href="#equation-conv-distribute" title="Permalink to this equation">¶</a></span>\[{\color{#DC2830}h}*{\color{#0271AE}{x_1}} + {\color{#DC2830}h}*{\color{#0271AE}{x_2}} = {\color{#DC2830}h}*{\color{#0271AE}{(x_1 + x_2)}}.\]</div>
<p>Like the associative property, the distributive property can be used to reduce the amount of computation needed to produce a particular output.
Note that the left-hand side of the equation has two convolutions, and the right-hand side has only one.</p>
<p>As we’ll see in the next chapter, this property can be generalized slightly to show that convolution is a <em>linear operator</em>.</p>
</div>
</div>
<div class="section" id="proving-these-properties">
<h1>Proving these properties<a class="headerlink" href="#proving-these-properties" title="Permalink to this headline">¶</a></h1>
<p>To prove that one of these properties holds, one would generally proceed by using the formal definition of convolution, and then applying a sequence of algebraic manipulations until we arrive at the desired result.</p>
<div class="section" id="proof-of-distributivity">
<h2>Proof of distributivity<a class="headerlink" href="#proof-of-distributivity" title="Permalink to this headline">¶</a></h2>
<p>As an example, here’s how one could show the distributive property.
Let</p>
<div class="math notranslate nohighlight">
\[
{\color{#6E3B87}y} = {\color{#DC2830}h}*{\color{#0271AE}{(x_1+x_2)}}.
\]</div>
<p>Then the <span class="math notranslate nohighlight">\(n\)</span>th sample of <span class="math notranslate nohighlight">\(y\)</span> is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
{\color{#6E3B87}{y[n]}} &amp;= \sum_{k=0}^{K-1} {\color{#DC2830}{h[k]}} \cdot {\color{#0271AE}{\left(x_1[n-k] + x_2[n-k]\right)}} &amp; \text{by definition of } y\\
&amp;= \sum_{k=0}^{K-1} \left({\color{#DC2830}{h[k]}} \cdot {\color{#0271AE}{x_1[n-k]}} + {\color{#DC2830}{h[k]}} \cdot {\color{#0271AE}{x_2[n-k]}}\right) &amp; \text{pull }h[k]\text{ into sum}\\
&amp;= \left(\sum_{k=0}^{K-1} {\color{#DC2830}{h[k]}} \cdot {\color{#0271AE}{x_1[n-k]}}\right) + \left(\sum_{k=0}^{K-1} {\color{#DC2830}{h[k]}} \cdot {\color{#0271AE}{x_2[n-k]}}\right) &amp; \text{rerrange the sum}\\
&amp;= ({\color{#DC2830}h}*{\color{#0271AE}{x_1}})[n] + ({\color{#DC2830}h}*{\color{#0271AE}{x_2}})[n] &amp; \text{ by definition of }*.
\end{align*}
\end{split}\]</div>
<p>And since this holds for all <span class="math notranslate nohighlight">\(n\)</span>, we get that</p>
<div class="math notranslate nohighlight">
\[
{\color{#DC2830}{h}}*{\color{#0271AE}{(x_1+x_2)}} = {\color{#6E3B87}y} = ({\color{#DC2830}h}*{\color{#0271AE}{x_1}}) + ({\color{#DC2830}h}*{\color{#0271AE}{x_2}}),
\]</div>
<p>which is what we set out to prove.</p>
</div>
<div class="section" id="is-there-a-better-way">
<h2>Is there a better way?<a class="headerlink" href="#is-there-a-better-way" title="Permalink to this headline">¶</a></h2>
<p>Similar types of arguments to the one above can be used to show that commutativity or associativity hold.
For the mathematically inclined reader, this can be a good exercise.
However, <strong>this style of proof can be tedious.</strong>
For the time being, we’ll assume that these properties hold without giving explicit proofs.</p>
<p>In <code class="xref any docutils literal notranslate"><span class="pre">chapter</span> <span class="pre">9</span></code>, we’ll see some mathematical tools that make it much simpler to show these properties of convolution from (more or less) first principles, without relying on so much algebra.</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="Modes.html" title="previous page">Convolution modes</a>
    <a class='right-next' id="next-link" href="LSI.html" title="next page">Linearity and Shift-invariance</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Brian McFee<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
  </body>
</html>