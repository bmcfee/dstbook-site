

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shift-invariance &#8212; Digital Signals Theory</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/sphinx-book-theme.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/mystnb.js"></script>
    <script src="../../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../index.html">
  
  <img src="../../../_static/dstlogo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Digital Signals Theory</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Part 1, Signals and systems
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../ch01-signals/Intro.html">
   Signals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ch02-sampling/intro.html">
   Digital sampling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ch03-convolution/intro.html">
   Convolution
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Part 2, The frequency domain
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../ch04-fourier/intro.html">
   The Discrete Fourier Transform
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ch05-dft-properties/intro.html">
   Properties of the DFT
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendix/Fundamentals.html">
   Mathematical fundamentals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendix/Algebra.html">
   Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendix/Trigonometry.html">
   Trigonometry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendix/Complex.html">
   Complex numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendix/Python.html">
   Programming in Python
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content/unused/systems-chapter/Shift-invariance.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-shift-invariance">
   Defining shift-invariance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#shift-invariance-or-time-invariance">
     Shift-invariance or time-invariance?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples-of-shift-invariant-systems">
   Examples of shift-invariant systems
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples-of-non-shift-invariant-systems">
   Examples of non-shift-invariant systems
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-determine-shift-invariance">
   How to determine shift-invariance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#proving-that-a-system-is-shift-invariant">
     Proving that a system is shift-invariant
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example-gain">
       Example: Gain
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#proving-that-a-system-is-not-shift-invariant">
     Proving that a system is not shift-invariant
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#all-convolutional-systems-are-shift-invariant">
     All convolutional systems are shift-invariant
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="shift-invariance">
<h1>Shift-invariance<a class="headerlink" href="#shift-invariance" title="Permalink to this headline">¶</a></h1>
<div class="cell tag_hide_input tag_hide_output tag_remove_input docutils container">
</div>
<p>We’re now ready to start reasoning abstractly about systems.
This topic can be challenging for students without much mathematical training.
If this part seems difficult to you, that’s normal: this topic is not easy!
The most important things to keep in mind are what we’re trying to do, and why we’re doing it.</p>
<p>In this section, we’ll define the property of <em>shift-invariance</em> (sometimes also called <em>time-invariance</em>), and see some examples of systems with and without this property.
Being able to determine whether a system is shift-invariant can help you understand how the system works, and how it can be combined with other systems (e.g., within an effect chain).</p>
<p>In the bigger picture, shift-invariance is one of the key characteristics of convolutional systems, which is why we study it here.</p>
<div class="math notranslate nohighlight">
\[
\require{cancel}\notag%
\require{color}\notag%
\require{amsmath}\notag%%
\]</div>
<div class="section" id="defining-shift-invariance">
<h2>Defining shift-invariance<a class="headerlink" href="#defining-shift-invariance" title="Permalink to this headline">¶</a></h2>
<p>Let <span class="math notranslate nohighlight">\(g\)</span> be an arbitrary system, and let</p>
<div class="math notranslate nohighlight">
\[
\Delta_d = [\underbrace{0, 0, \dots, 0}_{d \text{ times}}, 1]
\]</div>
<p>denote a <span class="math notranslate nohighlight">\(d\)</span>-step delay, so that convolving a signal <span class="math notranslate nohighlight">\(x\)</span> with <span class="math notranslate nohighlight">\(\Delta_d\)</span> yields</p>
<div class="math notranslate nohighlight">
\[
(\Delta_d * x)[n] = x[n-d].
\]</div>
<p>We say that <span class="math notranslate nohighlight">\(g\)</span> is <strong>shift-invariant</strong> if for all delays <span class="math notranslate nohighlight">\(d\)</span> and all input signals <span class="math notranslate nohighlight">\(x\)</span>, the following is true:</p>
<div class="math notranslate nohighlight">
\[
g(\Delta_d * x) = \Delta_d * g(x).
\]</div>
<p>In plain language, this says that if we delay <span class="math notranslate nohighlight">\(x\)</span> by <span class="math notranslate nohighlight">\(d\)</span> samples, and then process the delayed signal by the system <span class="math notranslate nohighlight">\(g\)</span>, we will get the exact same result as if we had first applied <span class="math notranslate nohighlight">\(g\)</span> to <span class="math notranslate nohighlight">\(x\)</span> (without delay) and then delayed the result.</p>
<div class="section" id="shift-invariance-or-time-invariance">
<h3>Shift-invariance or time-invariance?<a class="headerlink" href="#shift-invariance-or-time-invariance" title="Permalink to this headline">¶</a></h3>
<p>The term <em>time-invariant</em> is also commonly used to describe the property above.
There are two reasons why shift-invariance is a more precise term:</p>
<ol class="simple">
<li><p>“Time-invariant” does not describe what transformation of time the system is invariant to.  Shifting is one transformation, but so is stretching (e.g., changing units from seconds to milliseconds), reversal, or any number of other actions.</p></li>
<li><p>“Shift-invariant” can be applied to systems operating on other kinds of signals, such as images, which may have different notions of “position” than time (e.g., pixel coordinates).</p></li>
</ol>
<p>For these reasons, we’ll stick to the more precise terminology, but you are likely to encounter the <em>time-invariant</em> terminology elsewhere, so remember that these are the same thing.</p>
</div>
</div>
<div class="section" id="examples-of-shift-invariant-systems">
<h2>Examples of shift-invariant systems<a class="headerlink" href="#examples-of-shift-invariant-systems" title="Permalink to this headline">¶</a></h2>
<p>The first two examples we saw in the previous section are both shift-invariant:</p>
<ul class="simple">
<li><p>Gain: <span class="math notranslate nohighlight">\(y[n] = G \cdot x[n]\)</span></p></li>
<li><p>Clipping: <span class="math notranslate nohighlight">\(y[n] = \mathrm{clip}(x[n], v_-, v_+)\)</span></p></li>
</ul>
<p>This is because they both apply the same process uniformly to all samples, and this process depends only on the value of the signal <span class="math notranslate nohighlight">\(x[n]\)</span>, and not its sample index <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>As a general rule, <strong>all convolutional systems are shift-invariant</strong>.</p>
<p>The converse is not true though: not all shift-invariant systems are convolutional.  The clipping system, for example, is shift-invariant, but it cannot be implemented by convolution.</p>
</div>
<div class="section" id="examples-of-non-shift-invariant-systems">
<h2>Examples of non-shift-invariant systems<a class="headerlink" href="#examples-of-non-shift-invariant-systems" title="Permalink to this headline">¶</a></h2>
<p>Not all systems are shift-invariant though.  For example, the time-reversal system</p>
<div class="math notranslate nohighlight">
\[
y[n] = x[N-1-n]
\]</div>
<p>is not shift-invariant.  We can see this from the plot below, where a 5-step delay is applied either before or after the time-reversal system.
Because the two choices lead to two different output signals, we deduce that the system cannot be shift-invariant.</p>
<div class="cell tag_remove_input tag_hide_input docutils container">
<div class="cell_output docutils container">
<img alt="../../../_images/Shift-invariance_6_0.png" src="../../../_images/Shift-invariance_6_0.png" />
</div>
</div>
</div>
<div class="section" id="how-to-determine-shift-invariance">
<h2>How to determine shift-invariance<a class="headerlink" href="#how-to-determine-shift-invariance" title="Permalink to this headline">¶</a></h2>
<p>If you’re given a new system <span class="math notranslate nohighlight">\(g\)</span>, it may or may not be shift-invariant.
Determining shift-invariance can require a bit of ingenuity and/or mathematical insight, and if you have no idea where to start, it can seem a bit daunting.</p>
<p>Here we’ll show how to prove or disprove shift-invariance: these require different approaches.
In general, it’s a good idea to try disproving first, as doing so often reveals some insight about the system in question.</p>
<div class="section" id="proving-that-a-system-is-shift-invariant">
<h3>Proving that a system is shift-invariant<a class="headerlink" href="#proving-that-a-system-is-shift-invariant" title="Permalink to this headline">¶</a></h3>
<p>To prove that a system <span class="math notranslate nohighlight">\(g\)</span> is shift-invariant, it helps to break down the statement of the definition:</p>
<ul class="simple">
<li><p>For <strong>any signal</strong> <span class="math notranslate nohighlight">\(x\)</span>,</p></li>
<li><p>and for <strong>any delay</strong> <span class="math notranslate nohighlight">\(d\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(g(\Delta_d * x) = \Delta_d * g(x)\)</span>.</p></li>
</ul>
<p>Because the statement must hold for all choices of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(d\)</span>, any argument for shift-invariance cannot depend on specific choices for the signal or delay.
This means that we cannot use the counter-example approach used above to show that time-reversal is not shift-invariant.
Instead, we must reason more abstractly about how <span class="math notranslate nohighlight">\(g\)</span> works, and proofs of shift-invariance usually follow by algebraic manipulation without making any assumptions about <span class="math notranslate nohighlight">\(x\)</span> or <span class="math notranslate nohighlight">\(d\)</span>.</p>
<p>The general outline of the proof strategy is to fix an arbitrary input signal <span class="math notranslate nohighlight">\(x\)</span> and delay <span class="math notranslate nohighlight">\(d\)</span>, then start from one side of the equation (e.g., <span class="math notranslate nohighlight">\(g(\Delta_d * x)\)</span>) and manipulate it into a form that is equivalent to the the other side of the equation (<span class="math notranslate nohighlight">\(\Delta_d * g(x)\)</span>).</p>
<div class="section" id="example-gain">
<h4>Example: Gain<a class="headerlink" href="#example-gain" title="Permalink to this headline">¶</a></h4>
<p>We previously asserted that the gain system is shift-invariant, but now let’s prove it.</p>
<p>Let <span class="math notranslate nohighlight">\(y = g(x)\)</span> denote a gain system, so that <span class="math notranslate nohighlight">\(y[n] = G \cdot x[n]\)</span> (for some arbitrary but fixed value <span class="math notranslate nohighlight">\(G\)</span>).
Let <span class="math notranslate nohighlight">\(d \geq 0\)</span> denote an arbitary (but unknown) delay.
Then the <span class="math notranslate nohighlight">\(n\)</span>th output sample of the system is given by</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
g(\Delta_d * x)[n] &amp;= G \cdot \left(\Delta_d * x\right)[n]\\
&amp;= G \cdot x[n-d].
\end{align*}
\end{split}\]</div>
<p>This is exactly what we would have produced by applying the delay after <span class="math notranslate nohighlight">\(g\)</span>:</p>
<div class="math notranslate nohighlight">
\[
\left(\Delta_d * g(x)\right)[n] = g(x)[n-d] = G \cdot x[n-d].
\]</div>
<p>Since both order of operations (delay-then-gain, or gain-then-delay) produce the same output signal, the system is shift-invariant.</p>
</div>
</div>
<div class="section" id="proving-that-a-system-is-not-shift-invariant">
<h3>Proving that a system is not shift-invariant<a class="headerlink" href="#proving-that-a-system-is-not-shift-invariant" title="Permalink to this headline">¶</a></h3>
<p>If a system is <strong>not</strong> shift-invariant (like the time-reversal system), we need a different proof strategy.
This is because we are (equivalently) proving the opposite of the shift-invariant property.
The statement we want to prove is formalized as follows:</p>
<ul class="simple">
<li><p>There exists <strong>at least one signal</strong> <span class="math notranslate nohighlight">\(x\)</span>,</p></li>
<li><p>and <strong>at least one delay</strong> <span class="math notranslate nohighlight">\(d\)</span>,</p></li>
<li><p>such that <span class="math notranslate nohighlight">\(g(\Delta_d * x) \neq \Delta_d * g(x)\)</span>.</p></li>
</ul>
<p>This statement differs from the original in three places: the <span class="math notranslate nohighlight">\(=\)</span> became a <span class="math notranslate nohighlight">\(\neq\)</span>, but more importantly, the <strong>for all</strong> statements (<span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(d\)</span>) became <strong>there exist</strong> statements.
This gives us much more freedom in our strategy: rather than having to show that shift-invariance fails for <em>every</em> signal, we only need to show that at least one signal (and delay) causes it to fail.
That is, we need to find <strong>a counter-example</strong>!</p>
<p>This is exactly what we did above for the time-reversal system.
Note that this is usually easier than proving a property holds for all choices of input, but we still need to be careful.
For instance, the argument above might not have worked if the signal we chose was time-symmetric (like a square wave).
Finding the right counter-example often requires some insight about how the system works.</p>
<p>Luckily, testing counter-examples is easy: all you have to do is run the system and see if the results are different before and after delay.
As soon as you get a mismatch (like the figure above), you have a proof!</p>
</div>
<div class="section" id="all-convolutional-systems-are-shift-invariant">
<h3>All convolutional systems are shift-invariant<a class="headerlink" href="#all-convolutional-systems-are-shift-invariant" title="Permalink to this headline">¶</a></h3>
<p>We’ll finish off this section by using the algebraic properties of convolution to show that any convolutional system is shift-invariant.</p>
<p>Let <span class="math notranslate nohighlight">\(g(x) = h *x\)</span> be a convolutional system for some fixed <span class="math notranslate nohighlight">\(h\)</span> and any input signal <span class="math notranslate nohighlight">\(x\)</span>, and let <span class="math notranslate nohighlight">\(\Delta\)</span> be the impulse response of a <span class="math notranslate nohighlight">\(d\)</span>-step delay for any fixed <span class="math notranslate nohighlight">\(d \geq 0\)</span>.
As we’ve seen already, <span class="math notranslate nohighlight">\(\Delta * x\)</span> implements a <span class="math notranslate nohighlight">\(d\)</span>-step delay, so to prove that <span class="math notranslate nohighlight">\(g\)</span> is shift-invariant, we need to verify that</p>
<div class="math notranslate nohighlight">
\[
g(\Delta * x) = \Delta * g(x).
\]</div>
<p>We’ll do this by the following argument:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
g(\Delta * x) &amp;= h * (\Delta * x) &amp; \text{ apply }g\text{ to delayed input}\\
&amp;= (h * \Delta) * x &amp; \text { associative rule}\\
&amp;= (\Delta * h) * x &amp; \text { commutative rule}\\
&amp;= \Delta * (h * x) &amp; \text { associative rule}\\
&amp;= \Delta * g(x) &amp; \text { definition of }g.
\end{align*}
\end{split}\]</div>
<p>This can give us a shortcut to showing shift-invariance: if you can implement a system <span class="math notranslate nohighlight">\(g\)</span> in terms of convolution, it automatically satisfies shift-invariance!</p>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Brian McFee<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../../_static/js/index.js"></script>
    
  </body>
</html>